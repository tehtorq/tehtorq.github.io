import{r as H,s as x,e as I,c as A,h as J,f as w,j as v,i as S,l as U,m as b,G as V,n as j,I as se,q as z,J as re,D as $,a as ae,g as ie,b as le,k as q,A as D,K as ce}from"../chunks/scheduler.S5f2EV9a.js";import{a as N,t as y,S as ee,i as te,c as ne,g as oe,f as ue,b as fe,d as de,m as he,e as _e}from"../chunks/index.RCc_LvUI.js";function F(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function me(t,e){N(t,1,1,()=>{e.delete(t.key)})}function pe(t,e,o,r,i,c,f,n,s,a,l,u){let h=t.length,p=c.length,g=h;const T={};for(;g--;)T[t[g].key]=g;const E=[],L=new Map,O=new Map,X=[];for(g=p;g--;){const d=u(i,c,g),_=o(d);let m=f.get(_);m?r&&X.push(()=>m.p(d,e)):(m=a(_,d),m.c()),L.set(_,E[g]=m),_ in T&&O.set(_,Math.abs(g-T[_]))}const B=new Set,P=new Set;function R(d){y(d,1),d.m(n,l),f.set(d.key,d),l=d.first,p--}for(;h&&p;){const d=E[p-1],_=t[h-1],m=d.key,M=_.key;d===_?(l=d.first,h--,p--):L.has(M)?!f.has(m)||B.has(m)?R(d):P.has(M)?h--:O.get(m)>O.get(M)?(P.add(m),R(d)):(B.add(M),h--):(s(_,f),h--)}for(;h--;){const d=t[h];L.has(d.key)||s(d,f)}for(;p;)R(E[p-1]);return H(X),E}function C(t){var e=new Error(t);return e.source="ulid",e}var K="0123456789ABCDEFGHJKMNPQRSTVWXYZ",k=K.length,Q=Math.pow(2,48)-1,ge=10,we=16;function be(t){var e=Math.floor(t()*k);return e===k&&(e=k-1),K.charAt(e)}function ye(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>Q)throw C("cannot encode time greater than "+Q);if(t<0)throw C("time must be positive");if(Number.isInteger(t)===!1)throw C("time must be an integer");for(var o=void 0,r="";e>0;e--)o=t%k,r=K.charAt(o)+r,t=(t-o)/k;return r}function ve(t,e){for(var o="";t>0;t--)o=be(e)+o;return o}function ke(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var o=e&&(e.crypto||e.msCrypto);if(o)return function(){var i=new Uint8Array(1);return o.getRandomValues(i),i[0]/255};try{var r=require("crypto");return function(){return r.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw C("secure crypto unusable, insecure Math.random not allowed")}function Ne(t){return t||(t=ke()),function(o){return isNaN(o)&&(o=Date.now()),ye(o,ge)+ve(we,t)}}var G=Ne();function Ee(t){let e,o,r;return{c(){e=I("textarea"),this.h()},l(i){e=A(i,"TEXTAREA",{placeholder:!0,class:!0}),J(e).forEach(w),this.h()},h(){v(e,"placeholder","Add a note..."),v(e,"class","bg-amber-100 text-black shadow-lg border-2 min-h-40 w-80 rounded-lg my-2 mx-2")},m(i,c){S(i,e,c),t[5](e),U(e,t[0].content),o||(r=[b(e,"input",t[6]),b(e,"keydown",V(t[2])),b(e,"dblclick",V(t[4])),b(e,"keypress",V(t[2]))],o=!0)},p(i,[c]){c&1&&U(e,i[0].content)},i:j,o:j,d(i){i&&w(e),t[5](null),o=!1,H(r)}}}function Me(t,e,o){const r=se();let{note:i=""}=e,{autofocus:c=!1}=e,f;function n(u){u.keyCode===8&&i.content.length===0&&(f.blur(),r("delete",i.id))}z(()=>{c&&f.focus()});function s(u){re.call(this,t,u)}function a(u){$[u?"unshift":"push"](()=>{f=u,o(1,f)})}function l(){i.content=this.value,o(0,i)}return t.$$set=u=>{"note"in u&&o(0,i=u.note),"autofocus"in u&&o(3,c=u.autofocus)},[i,f,n,c,s,a,l]}class Ie extends ee{constructor(e){super(),te(this,e,Me,Ee,x,{note:0,autofocus:3})}}function W(t,e,o){const r=t.slice();return r[7]=e[o],r[8]=e,r[9]=o,r}function Y(t){let e=[],o=new Map,r,i,c=F(t[0]);const f=n=>n[7].id;for(let n=0;n<c.length;n+=1){let s=W(t,c,n),a=f(s);o.set(a,e[n]=Z(a,s))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();r=D()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);r=D()},m(n,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(n,s);S(n,r,s),i=!0},p(n,s){s&11&&(c=F(n[0]),oe(),e=pe(e,s,f,1,n,c,o,r.parentNode,me,Z,r,W),ne())},i(n){if(!i){for(let s=0;s<c.length;s+=1)y(e[s]);i=!0}},o(n){for(let s=0;s<e.length;s+=1)N(e[s]);i=!1},d(n){n&&w(r);for(let s=0;s<e.length;s+=1)e[s].d(n)}}}function Z(t,e){let o,r,i,c;function f(s){e[4](s,e[7],e[8],e[9])}let n={autofocus:e[7].id===e[1]};return e[7]!==void 0&&(n.note=e[7]),r=new Ie({props:n}),$.push(()=>ue(r,"note",f)),r.$on("delete",e[5]),{key:t,first:null,c(){o=D(),fe(r.$$.fragment),this.h()},l(s){o=D(),de(r.$$.fragment,s),this.h()},h(){this.first=o},m(s,a){S(s,o,a),he(r,s,a),c=!0},p(s,a){e=s;const l={};a&3&&(l.autofocus=e[7].id===e[1]),!i&&a&1&&(i=!0,l.note=e[7],ce(()=>i=!1)),r.$set(l)},i(s){c||(y(r.$$.fragment,s),c=!0)},o(s){N(r.$$.fragment,s),c=!1},d(s){s&&w(o),_e(r,s)}}}function Ae(t){let e,o,r='<span class="mx-auto italic leading-8 text-black text-6xl font-comic-sans drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)]">wotisay</span>',i,c,f,n,s,a=t[0]&&Y(t);return{c(){e=I("div"),o=I("div"),o.innerHTML=r,i=ae(),c=I("div"),a&&a.c(),this.h()},l(l){e=A(l,"DIV",{class:!0});var u=J(e);o=A(u,"DIV",{class:!0,"data-svelte-h":!0}),ie(o)!=="svelte-1c8nqhw"&&(o.innerHTML=r),i=le(u),c=A(u,"DIV",{class:!0});var h=J(c);a&&a.l(h),h.forEach(w),u.forEach(w),this.h()},h(){v(o,"class","w-100 text-center p-8 rotate-6 transition ease-in-out delay-150 hover:-rotate-6"),v(c,"class","sm:rows-2 md:rows-3 lg:rows-4 xl:rows-5 text-center"),v(e,"class","w-screen min-h-screen select-none bg-red-100")},m(l,u){S(l,e,u),q(e,o),q(e,i),q(e,c),a&&a.m(c,null),f=!0,n||(s=[b(window,"keydown",t[2]),b(e,"dblclick",t[2])],n=!0)},p(l,[u]){l[0]?a?(a.p(l,u),u&1&&y(a,1)):(a=Y(l),a.c(),y(a,1),a.m(c,null)):a&&(oe(),N(a,1,1,()=>{a=null}),ne())},i(l){f||(y(a),f=!0)},o(l){N(a),f=!1},d(l){l&&w(e),a&&a.d(),n=!1,H(s)}}}function Ce(t,e,o){let r="";z(()=>{const l=localStorage.getItem("notes");if(o(0,n=l?JSON.parse(l):[]),n.length===0||n.length>0&&n[0].content!==""){const u=G();o(0,n=[{id:u,content:""},...n])}});function i(l){if(l.keyCode===8)return;const u=G();o(1,r=u),o(0,n=[{id:u,content:""},...n])}function c(l){o(0,n=n.filter(u=>u.id!==l))}function f(){if(n){if(n.length===0||n.length>0&&n[0].content!==""){const l=G();o(0,n=[{id:l,content:""},...n])}localStorage.setItem("notes",JSON.stringify(n))}}let n;function s(l,u,h,p){h[p]=l,o(0,n)}const a=l=>c(l.detail);return t.$$.update=()=>{t.$$.dirty&1&&f()},[n,r,i,c,s,a]}class Te extends ee{constructor(e){super(),te(this,e,Ce,Ae,x,{})}}export{Te as component};
