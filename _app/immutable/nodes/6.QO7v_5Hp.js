import{r as G,s as W,e as M,c as I,h as q,f as w,j as C,i as S,l as B,m as b,G as R,n as P,I as re,q as Y,J as se,D as Z,a as oe,g as ae,b as ie,k as V,A as D,K as le}from"../chunks/scheduler.S5f2EV9a.js";import{a as k,t as v,S as z,i as ee,c as te,g as ne,f as ce,b as ue,d as fe,m as de,e as he}from"../chunks/index.RCc_LvUI.js";function U(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function me(t,e){k(t,1,1,()=>{e.delete(t.key)})}function _e(t,e,r,o,a,l,u,i,n,s,c,h){let d=t.length,g=l.length,p=d;const T={};for(;p--;)T[t[p].key]=p;const N=[],x=new Map,L=new Map,H=[];for(p=g;p--;){const f=h(a,l,p),m=r(f);let _=u.get(m);_?o&&H.push(()=>_.p(f,e)):(_=s(m,f),_.c()),x.set(m,N[p]=_),m in T&&L.set(m,Math.abs(p-T[m]))}const K=new Set,X=new Set;function O(f){v(f,1),f.m(i,c),u.set(f.key,f),c=f.first,g--}for(;d&&g;){const f=N[g-1],m=t[d-1],_=f.key,E=m.key;f===m?(c=f.first,d--,g--):x.has(E)?!u.has(_)||K.has(_)?O(f):X.has(E)?d--:L.get(_)>L.get(E)?(X.add(_),O(f)):(K.add(E),d--):(n(m,u),d--)}for(;d--;){const f=t[d];x.has(f.key)||n(f,u)}for(;g;)O(N[g-1]);return G(H),N}function A(t){var e=new Error(t);return e.source="ulid",e}var J="0123456789ABCDEFGHJKMNPQRSTVWXYZ",y=J.length,$=Math.pow(2,48)-1,pe=10,ge=16;function we(t){var e=Math.floor(t()*y);return e===y&&(e=y-1),J.charAt(e)}function be(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>$)throw A("cannot encode time greater than "+$);if(t<0)throw A("time must be positive");if(Number.isInteger(t)===!1)throw A("time must be an integer");for(var r=void 0,o="";e>0;e--)r=t%y,o=J.charAt(r)+o,t=(t-r)/y;return o}function ve(t,e){for(var r="";t>0;t--)r=we(e)+r;return r}function ye(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var r=e&&(e.crypto||e.msCrypto);if(r)return function(){var a=new Uint8Array(1);return r.getRandomValues(a),a[0]/255};try{var o=require("crypto");return function(){return o.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw A("secure crypto unusable, insecure Math.random not allowed")}function ke(t){return t||(t=ye()),function(r){return isNaN(r)&&(r=Date.now()),be(r,pe)+ve(ge,t)}}var Ne=ke();function Ee(t){let e,r,o;return{c(){e=M("textarea"),this.h()},l(a){e=I(a,"TEXTAREA",{class:!0}),q(e).forEach(w),this.h()},h(){C(e,"class","bg-amber-100 text-black shadow-lg border-2 text-center min-h-40 w-80 rounded-lg my-2 mx-2")},m(a,l){S(a,e,l),t[4](e),B(e,t[0].content),r||(o=[b(e,"input",t[5]),b(e,"keydown",R(t[2])),b(e,"dblclick",R(t[3])),b(e,"keypress",R(t[2]))],r=!0)},p(a,[l]){l&1&&B(e,a[0].content)},i:P,o:P,d(a){a&&w(e),t[4](null),r=!1,G(o)}}}function Me(t,e,r){const o=re();let{note:a}=e,l;function u(c){c.keyCode===8&&a.content.length===0&&(l.blur(),o("delete",a.id))}Y(()=>{l.focus()});function i(c){se.call(this,t,c)}function n(c){Z[c?"unshift":"push"](()=>{l=c,r(1,l)})}function s(){a.content=this.value,r(0,a)}return t.$$set=c=>{"note"in c&&r(0,a=c.note)},[a,l,u,i,n,s]}class Ie extends z{constructor(e){super(),ee(this,e,Me,Ee,W,{note:0})}}function j(t,e,r){const o=t.slice();return o[6]=e[r],o[7]=e,o[8]=r,o}function F(t){let e=[],r=new Map,o,a,l=U(t[0]);const u=i=>i[6].id;for(let i=0;i<l.length;i+=1){let n=j(t,l,i),s=u(n);r.set(s,e[i]=Q(s,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();o=D()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);o=D()},m(i,n){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(i,n);S(i,o,n),a=!0},p(i,n){n&5&&(l=U(i[0]),ne(),e=_e(e,n,u,1,i,l,r,o.parentNode,me,Q,o,j),te())},i(i){if(!a){for(let n=0;n<l.length;n+=1)v(e[n]);a=!0}},o(i){for(let n=0;n<e.length;n+=1)k(e[n]);a=!1},d(i){i&&w(o);for(let n=0;n<e.length;n+=1)e[n].d(i)}}}function Q(t,e){let r,o,a,l;function u(n){e[3](n,e[6],e[7],e[8])}let i={};return e[6]!==void 0&&(i.note=e[6]),o=new Ie({props:i}),Z.push(()=>ce(o,"note",u)),o.$on("delete",e[4]),{key:t,first:null,c(){r=D(),ue(o.$$.fragment),this.h()},l(n){r=D(),fe(o.$$.fragment,n),this.h()},h(){this.first=r},m(n,s){S(n,r,s),de(o,n,s),l=!0},p(n,s){e=n;const c={};!a&&s&1&&(a=!0,c.note=e[6],le(()=>a=!1)),o.$set(c)},i(n){l||(v(o.$$.fragment,n),l=!0)},o(n){k(o.$$.fragment,n),l=!1},d(n){n&&w(r),he(o,n)}}}function Ce(t){let e,r,o='<span class="mx-auto italic leading-8 text-black text-6xl font-comic-sans drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)]">wotisay</span>',a,l,u,i,n,s=t[0]&&F(t);return{c(){e=M("div"),r=M("div"),r.innerHTML=o,a=oe(),l=M("div"),s&&s.c(),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=q(e);r=I(h,"DIV",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-1c8nqhw"&&(r.innerHTML=o),a=ie(h),l=I(h,"DIV",{class:!0});var d=q(l);s&&s.l(d),d.forEach(w),h.forEach(w),this.h()},h(){C(r,"class","w-100 text-center p-8 rotate-6 transition ease-in-out delay-150 hover:-rotate-6"),C(l,"class","sm:rows-2 md:rows-3 lg:rows-4 xl:rows-5 text-center"),C(e,"class","w-screen min-h-screen select-none bg-red-100")},m(c,h){S(c,e,h),V(e,r),V(e,a),V(e,l),s&&s.m(l,null),u=!0,i||(n=[b(window,"keydown",t[1]),b(e,"dblclick",t[1])],i=!0)},p(c,[h]){c[0]?s?(s.p(c,h),h&1&&v(s,1)):(s=F(c),s.c(),v(s,1),s.m(l,null)):s&&(ne(),k(s,1,1,()=>{s=null}),te())},i(c){u||(v(s),u=!0)},o(c){k(s),u=!1},d(c){c&&w(e),s&&s.d(),i=!1,G(n)}}}function Ae(t,e,r){Y(()=>{const s=localStorage.getItem("notes");r(0,u=s?JSON.parse(s):[])});function o(s){s.keyCode!==8&&r(0,u=[{id:Ne(),content:""},...u])}function a(s){r(0,u=u.filter(c=>c.id!==s))}function l(){u&&localStorage.setItem("notes",JSON.stringify(u))}let u;function i(s,c,h,d){h[d]=s,r(0,u)}const n=s=>a(s.detail);return t.$$.update=()=>{t.$$.dirty&1&&l()},[u,o,a,i,n]}class Te extends z{constructor(e){super(),ee(this,e,Ae,Ce,W,{})}}export{Te as component};
